!function(){"use strict";angular.module("app",["ngAnimate","angular-loading-bar","ui.bootstrap","ui.router","LocalStorageModule","cgBusy"])}(),function(){function t(t){return{scope:{focus:"=focusMe"},link:function(e,r){e.$watch("focus",function(e){e===!0&&t(function(){r[0].focus()})})}}}angular.module("app").directive("focusMe",t),t.$inject=["$timeout"]}(),function(){function t(t){function e(){function e(){a.currentPage>1&&(console.log("enter here first"),a.ampersand({currentPage:a.currentPage})),console.log(a.currentPage),console.log(a.size),console.log("directive continues down the code");var e=t.SetPaginationCounter(a.itemsPerPage,a.size,a.currentPage);a.begin=e.begin,a.end=e.end}function r(){e()}var a=this;a.PageChanged=e,r()}return{restrict:"EA",scope:{itemsPerPage:"=",size:"=",currentPage:"=",ampersand:"&"},controller:e,controllerAs:"vm",bindToController:!0,templateUrl:"app/core/templates/myPagination.html"}}angular.module("app").directive("myPagination",t),t.$inject=["FlightBoardService"]}(),function(){function t(){function t(){}return{restrict:"EA",scope:{reservations:"="},bindToController:!0,templateUrl:"app/core/templates/reservation.html",controller:t,controllerAs:"vm"}}angular.module("app").directive("reservationGrid",t),t.$inject=[]}(),function(){"use strict";function t(t,e){function r(e){var r=t.PostLogin(e);return r.then(function(t){i("authenticationData",{accessToken:t.access_token,userName:t.UserName,accessTokenExpires:t[".expires"],userRoles:t.UserRoles.split(",")})}),r}function a(t){return e.get(t)}function o(t){for(var e in s.dataInStorage)n(s.dataInStorage[e])}function i(t,r){e.set(t,r)}function n(t){return e.remove(t)}var s=this;s.dataInStorage=["authenticationData","flightBoardConfig"];var l={LoginUser:r,GetLocalDataStorage:a,LogOut:o};return l}angular.module("app").factory("AuthenticationService",t),t.$inject=["LoginService","localStorageService"]}(),function(){"use strict";function t(t,e,r,a,o){function i(t){t.headers=t.headers||{};var e=o.get("authenticationData");return e&&(t.headers.Authorization="Bearer "+e.accessToken),t}return{request:i}}angular.module("app").factory("AuthenticationInterceptorService",t),t.$inject=["$q","$injector","$window","$timeout","localStorageService"]}(),function(){angular.module("app").constant("AuthenticationSettings",{AuthenticationAPI:"http://signetapi-development.trafficmanager.net/",ResourcesAPI:"http://signetapi-development.trafficmanager.net/"})}(),function(){function t(t,e){function r(e){t.set(i.flightBoardConfigKey,e)}function a(){return t.get(i.flightBoardConfigKey)}function o(){return e.GetLocalDataStorage("authenticationData")}var i=this;return i.flightBoardConfigKey="flightBoardConfig",{GetFlightBoardConfiguration:a,SetFlightBoardConfiguration:r,GetCurrentUserData:o}}angular.module("app").factory("CurrentUserService",t),t.$inject=["localStorageService","AuthenticationService"]}(),function(){function t(){function t(t){return moment().add(t,g.hourSymbol).format(g.dateTimeFormat)}function e(t){var e=moment(t);return e.format(g.timeFormat)}function r(t){return moment(t).format(g.dateFormat)}function a(t){return moment(t).format(g.dateTimeFormat)}function o(t){return moment(t).format(g.timeFormat)}function i(t,e,r){switch(r){case"a":return moment(t,g.dateFormat).add(e,g.hourSymbol).format(g.dateFormat);case"s":return moment(t,g.dateFormat).subtract(e,g.hourSymbol).format(g.dateFormat)}}function n(){return moment().format(g.dateFormat)}function s(){return moment().format(g.timeFormat)}function l(){return g.dateFormats}function c(){return g.dateOptions}function u(){return g.altInputFormats}function m(t){var e=moment(t,g.dateFormat),r={year:e.year(),day:e.date(),month:e.month()};return r}function p(t,e,r){var a=moment(t),o=moment(e);return o.diff(a,r)}function f(t){return moment(t).format(g.dateFormats[1])}function d(){return moment().format(g.dateFormats[1])}var g=this;g.date=new moment,g.dateFormat="M/DD/YYYY",g.dateTimeFormat="M/DD/YYYY HH:mm",g.timeFormat="HH:mm",g.hourSymbol="h",g.dateFormats=["dd-MMMM-yyyy","YYYY-MM-DD","dd.MM.yyyy","MM/dd/yyyy","shortDate"],g.dateOptions={formatYear:"yy",startingDay:1,showWeeks:!0},g.altInputFormats=["M!/d!/yyyy"];var h={AddHoursToTodaysDateTime:t,SetHoursToDate:i,FormatDate:r,FormatDateTime:a,FormatTime:o,FormatDateYear:f,FormatMomentDateYear:d,GetTimeFromDateTime:e,GetTodaysDate:n,GetTodaysTime:s,GetDateFormats:l,GetDateOptions:c,GetAltInputFormats:u,GetDateParts:m,GetDifference:p};return h}angular.module("app").factory("DateTimeService",t),t.$inject=[]}(),function(){"use strict";function t(t,e){function r(r){var a=t.defer();return e(r).success(function(t,e,r,o){a.resolve(t)}).error(function(t,e,r,o){a.reject(t)}),a.promise}return{Go:r}}angular.module("app").factory("HttpRequestService",t),t.$inject=["$q","$http"]}(),function(){function t(t,e){function r(r){t.Go({method:"GET",url:e.ResourcesAPI+"api/Lookup/GetCpaBases"}).then(function(t){var e=[];for(var a in t)e.push({BaseId:t[a].BaseId,Iata:t[a].Iata});r(null,e)})["catch"](function(t){r(t,null)})}var a=this;return a.basePromise=void 0,{FormatBases:r}}angular.module("app").factory("LookupService",t),t.$inject=["HttpRequestService","AuthenticationSettings"]}(),function(){function t(){function t(t){return null===t||void 0===t||0===t.length}function e(t){return null===t||void 0===t||0===t.trim().length}return{IsObjectNull:t,IsPropertyEmpty:e}}angular.module("app").factory("HelperMethodsService",t),t.$inject=[]}(),function(){function t(){function t(t,e,a){r()&&r().trackException(t,e,a)}function e(t){r()&&r().trackEvent(t)}function r(){return a.applicationInsights||window.appInsights}var a=this;return a.applicationInsights=window.appInsights,{TrackException:t,TrackEvent:e}}angular.module("app").factory("ApplicationInsightsService",t),t.$inject=[]}(),function(){"use strict";function t(t){t.interceptors.push("AuthenticationInterceptorService")}angular.module("app").config(t),t.$inject=["$httpProvider"]}(),function(){"use strict";function t(t,e,r,a,o){t.$on("$stateChangeStart",function(t,i,n,s,l){var c=a.GetLocalDataStorage("authenticationData"),u="root.login",m="root.simpleLogin",p="root";(c||i.name!=u)&&(c&&i.name==u&&(t.preventDefault(),r(function(){e.go("root.appLayout.dashboard")})),c||m===i.name||(t.preventDefault(),r(function(){e.go("root.login")})),c&&i.name==p&&r(function(){e.go("root.appLayout.dashboard")}),c&&"root.appLayout.flightBoard"==i.name&&o.TriggerModal("root.appLayout.flightBoard")&&(t.preventDefault(),r(function(){"root.appLayout.flightBoard"!==s.name&&e.go("root.appLayout.dashboard")})))})}angular.module("app").run(t),t.$inject=["$rootScope","$state","$timeout","AuthenticationService","FlightBoardService"]}(),angular.module("app").value("cgBusyDefaults",{message:"",templateUrl:"app/core/templates/customSplashScreen.html"}),function(){"use strict";function t(t,e){t.ok=function(){e.dismiss("")}}angular.module("app").controller("WarningModalController",t),t.$inject=["$scope","$uibModalInstance"]}(),function(){"use strict";function t(t,e){t.state("root",{url:"",views:{rootLayout:{templateUrl:"app/main/rootLayout/rootLayout.html"}}}).state("root.login",{url:"/login",templateUrl:"app/main/login/login.html",controller:"LoginController",controllerAs:"vm"}).state("root.simpleLogin",{url:"/simplelogin",templateUrl:"app/main/simpleLogin/simpleLogin.html",controller:"SimpleLoginController",controllerAs:"vm"}).state("root.appLayout",{url:"/app",templateUrl:"app/main/application/appLayout.html",controller:"AppLayoutController",controllerAs:"vm"}).state("root.appLayout.dashboard",{url:"/dashboard",templateUrl:"app/main/dashboard/dashboard.html",controller:"DashboardController",controllerAs:"vm"}).state("root.appLayout.flightBoard",{url:"/flightboard",templateUrl:"app/main/flightBoard/flightBoard.html",controller:"FlightBoardController",controllerAs:"vm"}).state("root.appLayout.report",{url:"/report",templateUrl:"app/main/report/report.html",controller:"ReportController",controllerAs:"vm"}).state("root.appLayout.report.reservations",{url:"/reservationsreport",templateUrl:"app/main/report/reservations/reservations.html",controller:"ReservationsReportController",controllerAs:"vm"})}angular.module("app").config(t),t.$inject=["$stateProvider","$urlRouterProvider"]}(),function(){"use strict";function t(t,e,r,a,o,i,n){function s(){u()}function l(){o.LogOut(),r.path("/login")}function c(){p.isSideNavClosed=!p.isSideNavClosed}function u(){t.$on("toggleSideNav",function(t,e){p.isSideNavClosed=e.close})}function m(t){e.go(t)}var p=this;p.isSideNavClosed=!1,p.state=e,p.userName=o.GetLocalDataStorage("authenticationData").userName,p.title="AppLayout Controller",p.Logout=l,p.Open=c,p.NavigateTo=m,s()}angular.module("app").controller("AppLayoutController",t),t.$inject=["$scope","$state","$location","$uibModal","AuthenticationService","CurrentUserService","FlightBoardService"]}(),function(){"use strict";function t(t,e,r,a,o,i,n){function s(){r.FormatBases(function(t,e){return t?(n.TrackException(t.message,"GET CPA BASES (Dashboard)",{userName:p.currentUser.userName,errorObject:t}),void console.log(t)):(p.bases=e,void n.TrackEvent("Status: 200, Action: GET CPA BASES, handled: Dashboard"))}),u()}function l(t){t&&e.go(t)}function c(t,e,r){a.SetFlightBoardConfiguration(e),p.base=e}function u(){t.$on("loadSplashScreen",function(t,e){p.httpRequestPromise=e.httpPromise})}function m(){var t={baseId:p.base.BaseId,startDateTime:i.FormatMomentDateYear(),durationHours:24};o.GenerateReservationReport(t)}var p=this;p.title="Dashboard Controller",p.bases=[],p.displaySelect=!1,p.selected=a.GetFlightBoardConfiguration(),p.base=p.selected,p.currentUser=a.GetCurrentUserData("authenticationData"),p.BaseSelected=c,p.NavigateTo=l,p.GenerateReservationReport=m,s()}angular.module("app").controller("DashboardController",t),t.$inject=["$scope","$state","LookupService","CurrentUserService","ReportService","DateTimeService","ApplicationInsightsService"]}(),function(){"use strict";function t(t,e,r,a,o,i){function n(){s(),l(),h.flightBoardConfiguration=o.GetFlightBoardConfiguration(),c()}function s(){t.$emit("toggleSideNav",{close:!0}),h.getReservationsIntervalPromise=e(function(){c()},3e4),h.getTodaysTimeIntervalPromise=e(function(){h.todaysTime=a.GetTodaysTime()},1e4),t.$on("$destroy",function(){angular.isDefined(h.getReservationsIntervalPromise)&&e.cancel(h.getReservationsIntervalPromise),angular.isDefined(h.getTodaysTimeIntervalPromise)&&e.cancel(h.getTodaysTimeIntervalPromise)})}function l(){h.flightBoardDate=a.GetTodaysDate(),h.calendarDate=new Date,h.todaysTime=a.GetTodaysTime()}function c(t){h.requestObject=u(t),h.reservationsPromise=r.GetReservationsByBase(h.requestObject),h.reservationsPromise.then(function(t){r.FlattenReservation(t);var e=r.StructureReservationData(t);h.arrivals=e.data.Arrivals,h.departures=e.data.Departures,h.sameDayFlights=e.sameDayFlights,h.heavyCharters=e.heavyCharters,console.log(e)})["catch"](function(t){i.TrackException(t.message,"GetReservationsByBase (FlightBoard)",{userName:h.currentUser.userName,errorObject:t}),console.log(t)})}function u(t){return{BaseId:null===h.flightBoardConfiguration?t:h.flightBoardConfiguration.BaseId,StartDateTime:g(),DurationHours:h.hourRange}}function m(t){h.flightBoardDate=a.SetHoursToDate(g(),h.hourRange,t);var e=a.GetDateParts(h.flightBoardDate);h.calendarDate=new Date(e.year,e.month,e.day),c()}function p(){h.isFlightBoardCalendarOpen=!h.isFlightBoardCalendarOpen}function f(){d(a.FormatDate(h.calendarDate)),c()}function d(t){h.flightBoardDate=t}function g(){return h.flightBoardDate}var h=this;h.title="FlightBoard Controller",h.arrivals=[],h.departures=[],h.transports=[],h.sameDayFlights=[],h.hourRange=24,h.flightBoardConfiguration={},h.currentUser=o.GetCurrentUserData("authenticationData"),h.flightBoardDate=void 0,h.calendarDate=void 0,h.todaysTime=void 0,h.FetchReservations=m,h.OpenFlightBoardCalendar=p,h.DateChanged=f,h.GetReservationsByBase=c,h.isFlightBoardCalendarOpen=!1,h.formats=a.GetDateFormats(),h.format=h.formats[3],h.dateOptions=a.GetDateOptions(),h.altInputFormats=a.GetAltInputFormats(),n()}angular.module("app").controller("FlightBoardController",t),t.$inject=["$scope","$interval","FlightBoardService","DateTimeService","CurrentUserService","ApplicationInsightsService"]}(),function(){function t(t,e,r,a,o,i,n){function s(t){var r=!1;if(t!==b.flightBoardRoute)return r;if(null===n.GetFlightBoardConfiguration()){e.open({animation:!0,templateUrl:"app/core/templates/modal/warningModal.html",controller:"WarningModalController",size:""});r=!0}return r}function l(t){return r.Go({method:"POST",url:a.ResourcesAPI+"api/FlightBoard/GetReservationsByBase",data:JSON.stringify(t)})}function c(){return{BaseId:"P08",Roles:[]}}function u(t){if(!i.IsObjectNull(t)){var e=[],r=[],a=t.Arrivals,o=t.Departures;return D(a,e,r),g(o,r),T(a,o,e,r),m(a),p(e),f(o),d(r),{sameDayFlights:e,heavyCharters:r,data:t}}}function m(t){h(t,b.sections.arrival);for(var e in t)S(t[e],b.flightDirection[0].id)}function p(t){h(t,b.sections.sameDay);for(var e in t)S(t[e])}function f(t){h(t,b.sections.departure);for(var e=0;e<t.length;e++)S(t[e],b.flightDirection[1].id)}function d(t){for(var e=0;e<t.length;e++)t[e].IsArrival===!0?S(t[e],b.flightDirection[0].id):t[e].IsDeparture===!0?S(t[e],b.flightDirection[1].id):t[e].IsSameDay===!0&&S(t[e])}function g(t,e){for(var r=0;r<t.length;r++)I(t[r])&&(t[r].IsDeparture=!0,e.push(t[r]))}function h(t,e){if(!i.IsObjectNull(t))return e===b.sections.arrival&&t.sort(function(t,e){var r,a;return i.IsPropertyEmpty(t.ArrivalFlightInformation.FlightDateTime)?i.IsPropertyEmpty(t.ArrivalFlightInformation.FlightDateTime)&&!i.IsPropertyEmpty(t.ArrivalFlightInformation.EstimatedFlightDateTime)&&(r=t.ArrivalFlightInformation.EstimatedFlightDateTime):r=t.ArrivalFlightInformation.FlightDateTime,i.IsPropertyEmpty(e.ArrivalFlightInformation.FlightDateTime)?i.IsPropertyEmpty(e.ArrivalFlightInformation.FlightDateTime)&&!i.IsPropertyEmpty(e.ArrivalFlightInformation.EstimatedFlightDateTime)&&(a=e.ArrivalFlightInformation.EstimatedFlightDateTime):a=e.ArrivalFlightInformation.FlightDateTime,r>a?1:-1}),e===b.sections.sameDay&&t.sort(function(t,e){var r=v(t),a=v(e);return r>a?1:-1}),e===b.sections.departure&&t.sort(function(t,e){var r,a;return i.IsPropertyEmpty(t.DepartureFlightInformation.FlightDateTime)?i.IsPropertyEmpty(t.DepartureFlightInformation.FlightDateTime)&&!i.IsPropertyEmpty(t.DepartureFlightInformation.EstimatedFlightDateTime)&&(r=t.DepartureFlightInformation.EstimatedFlightDateTime):r=t.DepartureFlightInformation.FlightDateTime,i.IsPropertyEmpty(e.DepartureFlightInformation.FlightDateTime)?i.IsPropertyEmpty(e.DepartureFlightInformation.FlightDateTime)&&!i.IsPropertyEmpty(e.DepartureFlightInformation.EstimatedFlightDateTime)&&(a=e.DepartureFlightInformation.EstimatedFlightDateTime):a=e.DepartureFlightInformation.FlightDateTime,r>a?1:-1}),t}function v(t){var e,r=!1;return i.IsPropertyEmpty(t.DepartureFlightInformation.FlightDateTime)?r||(i.IsPropertyEmpty(t.DepartureFlightInformation.EstimatedFlightDateTime)||i.IsPropertyEmpty(t.ArrivalFlightInformation.FlightDateTime)||(r=!0,e=t.DepartureFlightInformation.EstimatedFlightDateTime),r||i.IsPropertyEmpty(t.ArrivalFlightInformation.FlightDateTime)||(r=!0,e=t.ArrivalFlightInformation.FlightDateTime),r||i.IsPropertyEmpty(t.ArrivalFlightInformation.EstimatedFlightDateTime)||(r=!0,e=t.ArrivalFlightInformation.EstimatedFlightDateTime)):(r=!0,e=t.DepartureFlightInformation.FlightDateTime),e}function y(t){if(!i.IsObjectNull(t)){var e=t.Arrivals,r=t.Departures;C(e),C(r)}}function D(t,e,r){for(var a=0;a<t.length;a++)i.IsObjectNull(t[a].ArrivalFlightInformation)||i.IsObjectNull(t[a].DepartureFlightInformation)||o.FormatDate(t[a].ArrivalFlightInformation.EstimatedFlightDateTime)!=o.FormatDate(t[a].DepartureFlightInformation.EstimatedFlightDateTime)?I(t[a])&&(t[a].IsArrival=!0,r.push(t[a])):(F(t[a]),I(t[a])?(t[a].IsSameDay=!0,r.push(t[a])):e.push(t[a]))}function F(t){t.QuickTurn=!1,i.IsPropertyEmpty(t.ArrivalFlightInformation.FlightDateTime)?startDate=t.ArrivalFlightInformation.EstimatedFlightDateTime:startDate=t.ArrivalFlightInformation.FlightDateTime;var e=o.GetDifference(startDate,t.DepartureFlightInformation.EstimatedFlightDateTime,"minutes");return e>-1&&e<=30&&(t.QuickTurn=!0),t}function I(t){return!i.IsPropertyEmpty(t.AircraftType)&&b.heavyCharterTypes.indexOf(t.AircraftType.toLowerCase())>-1}function T(t,e,r,a){for(var o in r){var i=t.indexOf(r[o]);i>-1&&t.splice(i,1)}for(var n in a){var s=t.indexOf(a[n]);s>-1&&t.splice(s,1);var l=e.indexOf(a[n]);l>-1&&e.splice(l,1)}}function S(t,e){i.IsObjectNull(t.ArrivalFlightInformation)||(i.IsPropertyEmpty(t.ArrivalFlightInformation.FlightDateTime)||(1==e?t.ArrivalFlightInformation.FlightDateTime=o.FormatTime(t.ArrivalFlightInformation.FlightDateTime):2==e?t.ArrivalFlightInformation.FlightDateTime=o.FormatDate(t.ArrivalFlightInformation.FlightDateTime):t.ArrivalFlightInformation.FlightDateTime=o.FormatTime(t.ArrivalFlightInformation.FlightDateTime)),i.IsPropertyEmpty(t.ArrivalFlightInformation.EstimatedFlightDateTime)||(1==e?t.ArrivalFlightInformation.EstimatedFlightDateTime=o.FormatTime(t.ArrivalFlightInformation.EstimatedFlightDateTime):2==e?t.ArrivalFlightInformation.EstimatedFlightDateTime=o.FormatDate(t.ArrivalFlightInformation.EstimatedFlightDateTime):t.ArrivalFlightInformation.EstimatedFlightDateTime=o.FormatTime(t.ArrivalFlightInformation.EstimatedFlightDateTime))),i.IsObjectNull(t.DepartureFlightInformation)||(i.IsPropertyEmpty(t.DepartureFlightInformation.FlightDateTime)||(1==e?t.DepartureFlightInformation.FlightDateTime=o.FormatDate(t.DepartureFlightInformation.FlightDateTime):2==e?t.DepartureFlightInformation.FlightDateTime=o.FormatTime(t.DepartureFlightInformation.FlightDateTime):t.DepartureFlightInformation.FlightDateTime=o.FormatTime(t.DepartureFlightInformation.FlightDateTime)),i.IsPropertyEmpty(t.DepartureFlightInformation.EstimatedFlightDateTime)||(1==e?t.DepartureFlightInformation.EstimatedFlightDateTime=o.FormatDate(t.DepartureFlightInformation.EstimatedFlightDateTime):2==e?t.DepartureFlightInformation.EstimatedFlightDateTime=o.FormatTime(t.DepartureFlightInformation.EstimatedFlightDateTime):t.DepartureFlightInformation.EstimatedFlightDateTime=o.FormatTime(t.DepartureFlightInformation.EstimatedFlightDateTime)))}function C(t){for(var e in t)P(t[e]),A(t[e]),E(t[e]),t[e].CustomsRequiredInbound===!1?t[e].CustomsRequiredInbound="":t[e].CustomsRequiredInbound===!0&&(t[e].CustomsRequiredInbound="Y")}function A(t){for(var e in t.AircraftServices)for(var r in b.serviceCategory)if(!i.IsPropertyEmpty(t.AircraftServices[e].ServiceCategory)&&t.AircraftServices[e].ServiceCategory.toLowerCase()==b.serviceCategory[r].name.toLowerCase()){if(!i.IsObjectNull(t.Fuel)&&"fuel"===t.AircraftServices[e].ServiceCategory.toLowerCase()){t.Fuel.Quantity+=t.AircraftServices[e].Quantity,t.Fuel.Comments+=", "+t.AircraftServices[e].Comments;break}t[b.serviceCategory[r].name]={},t[b.serviceCategory[r].name].Active=t.AircraftServices[e].Active,t[b.serviceCategory[r].name].AircraftServiceId=t.AircraftServices[e].AircraftServiceId,t[b.serviceCategory[r].name].Comments=t.AircraftServices[e].Comments,t[b.serviceCategory[r].name].LastUpdatedBy=t.AircraftServices[e].LastUpdatedBy,t[b.serviceCategory[r].name].ProductCode=t.AircraftServices[e].ProductCode,t[b.serviceCategory[r].name].Quantity=t.AircraftServices[e].Quantity,t[b.serviceCategory[r].name].ServiceCategory=t.AircraftServices[e].ServiceCategory,t[b.serviceCategory[r].name].ServiceCategoryId=t.AircraftServices[e].ServiceCategoryId,t[b.serviceCategory[r].name].Status=t.AircraftServices[e].Status,t[b.serviceCategory[r].name].Type=t.AircraftServices[e].Type,"fuel"==b.serviceCategory[r].name.toLowerCase()?(!i.IsPropertyEmpty(t.AircraftServices[e].ProductDescription)&&(t.AircraftServices[e].ProductDescription.toLowerCase().indexOf("avgas")>-1||t.AircraftServices[e].ProductDescription.toLowerCase().indexOf("100ll")>-1)&&(t[b.serviceCategory[r].name].ProductDescription="A"),!i.IsPropertyEmpty(t.AircraftServices[e].ProductDescription)&&(t.AircraftServices[e].ProductDescription.toLowerCase().indexOf("prist")>-1||t.AircraftServices[e].ProductDescription.toLowerCase().indexOf("fsii")>-1)&&(t[b.serviceCategory[r].name].ProductDescription="JET A +"),i.IsPropertyEmpty(t[b.serviceCategory[r].name].ProductDescription)&&(t[b.serviceCategory[r].name].ProductDescription="JET A -")):t[b.serviceCategory[r].name].ProductDescription=t.AircraftServices[e].ProductDescription;break}}function P(t){if(!i.IsObjectNull(t.GroundTransportations)){var e=[];for(var r in t.GroundTransportations)for(var a in b.transportationType)if(!i.IsPropertyEmpty(t.GroundTransportations[r].CarType.Name)&&t.GroundTransportations[r].CarType.Name.toLowerCase()===b.transportationType[a].type){var o=b.transportationType[a].abbreviation,n=t.GroundTransportations[r].Type.Name;i.IsPropertyEmpty(n)||"passenger"!=n.toLowerCase()||(n="P"),i.IsPropertyEmpty(n)||"crew"!=n.toLowerCase()||(n="C");var s=n+""+o;e.push({label:s,count:1});break}var l=angular.copy(e);for(var c in l){var u=l[c];for(var m in l)u.label==l[m].label&&c!==m&&u.flagged!==!0&&(l[m].flagged=!0,u.count+=1)}t.AllTransportations={Text:"",Status:!0};for(var p in l)l[p].flagged!==!0&&(t.AllTransportations.Text.length>0&&(t.AllTransportations.Text+=", "),t.AllTransportations.Text+=l[p].label+"("+l[p].count+")")}}function E(t){t.InvoiceIcon="",t.InvoiceText="";var e=[];if(!i.IsPropertyEmpty(t.PosTransactionId)){var r=t.Payments,a=t.PosTransactionStatus,o=t.DirectBillNumber;for(var n in r)e.push(r[n].Status);e.indexOf(2)>-1?t.InvoiceIcon="fa fa-usd":e.indexOf(32)>-1&&1==a&&e.indexOf(2)===-1||t.CardOnFile===!0?t.InvoiceText="CS":i.IsPropertyEmpty(o)?t.InvoiceIcon="fa fa-asterisk":t.InvoiceIcon="fa fa-check"}}var b=this;return b.serviceCategory=[{Id:1,name:"Car"},{Id:2,name:"Cater"},{Id:3,name:"CustHandling"},{Id:4,name:"Deice"},{Id:5,name:"Etc"},{Id:6,name:"Fuel"},{Id:7,name:"Gpu"},{Id:8,name:"Handling"},{Id:9,name:"Hotel"},{Id:10,name:"Intial"},{Id:11,name:"Lav"},{Id:12,name:"Other"},{Id:14,name:"Secondary"},{Id:15,name:"Water"}],b.transportationType=[{Id:1,type:"rental",abbreviation:"R"},{Id:2,type:"limo",abbreviation:"L"},{Id:3,type:"taxi",abbreviation:"T"},{Id:4,type:"crew car",abbreviation:"C"},{Id:5,type:"personal",abbreviation:"P"}],b.flightDirection=[{id:1,name:"arrival"},{id:2,name:"departure"}],b.heavyCharterTypes=["tx"],b.flightBoardRoute="root.appLayout.flightBoard",b.prefix="Flight",b.fuelTypes=["jet a +","avgas","100ll","jet a -"],b.sections={arrival:"arrival",sameDay:"sameDay",departure:"departure"},{StructureReservationData:u,GetReservationsByBase:l,GetUserSettings:c,FlattenReservation:y,TriggerModal:s,IsQuickTurn:F,SortFlights:h,IsHeavyCharter:I,RemoveFlights:T,GetFlights:D,CheckDeparturesForHeavyTransport:g}}angular.module("app").factory("FlightBoardService",t),t.$inject=["$interval","$uibModal","HttpRequestService","AuthenticationSettings","DateTimeService","HelperMethodsService","CurrentUserService"]}(),function(){function t(t){function e(){}var r=this;r.title="Index Controller",t.title="Index Controller",r.httpRequestPromise=void 0,t.$on("loadSplashScreen",function(t,e){r.httpRequestPromise=e.httpPromise}),e()}angular.module("app").controller("IndexController",t),t.$inject=["$scope"]}(),function(){"use strict";function t(t,e,r,a){function o(){if(!n.loginForm.$invalid){n.displayError=!1;var o={grant_type:"password",username:n.userCredentails.username,password:n.userCredentails.password};n.loginPromise=r.LoginUser(o),t.$emit("loadSplashScreen",{httpPromise:n.loginPromise}),n.loginPromise.then(function(t){e.go("root.appLayout.dashboard")})["catch"](function(t){a.TrackException(t.error,"Login",{userName:o.username,errorDescription:t.error_description}),n.displayError=!0,null!==t&&"ad_error"===t.error?n.errorMessage="You have entered the wrong username or password":null!==t&&void 0!==t||(n.errorMessage="Login Connectivity has been lost"),console.log(t)})}}function i(){}var n=this;n.title="Login Controller",n.loginPromise=void 0,n.displayError=void 0,n.errorMessage=void 0,n.userCredentails={},n.loginUser=o,i()}angular.module("app").controller("LoginController",t),t.$inject=["$scope","$state","AuthenticationService"]}(),function(){"use strict";function t(t,e){function r(r){return t.Go({method:"POST",url:e.AuthenticationAPI+"token",data:"grant_type=password&username="+r.username+"&password="+r.password+"&aduser="+!0,headers:{"Content-type":"application/x-www-form-urlencoded"}})}return{PostLogin:r}}angular.module("app").factory("LoginService",t),t.$inject=["HttpRequestService","AuthenticationSettings"]}(),function(){function t(t,e){function r(e){l[e]=!0,t(function(){l[e]=!1},200),a(e),o(),n()}function a(t){for(var e in l.numbers)if(l.numbers[e].text===t){l.passcode.push(l.numbers[e].id);break}}function o(){var t=l.passcode.length-1;l.smallCircles[t]=!0}function i(t){t("Error",null)}function n(){6==l.passcode.length&&i(function(r,a){r&&(console.log(r),l.passcode=[],t(function(){for(var t in l.smallCircles)l.smallCircles[t]=!1},300)),a&&e.go("root.login")})}function s(){var t=l.passcode.length-1;l.smallCircles[t]=!1,l.passcode.splice(t,1)}var l=this;l.passcode=[],l.numbers=[{id:"1",text:"one"},{id:"2",text:"two"},{id:"3",text:"three"},{id:"4",text:"four"},{id:"5",text:"five"},{id:"6",text:"six"},{id:"7",text:"seven"},{id:"8",text:"eight"},{id:"9",text:"nine"},{id:"0",text:"zero"}],l.smallCircles=[!1,!1,!1,!1,!1,!1],l.ClickedCircle=r,l.DeletePasscode=s}angular.module("app").controller("SimpleLoginController",t),t.$inject=["$timeout","$state"]}(),function(){"use strict";function t(){}angular.module("app").controller("RootController",t),t.$inject=[]}(),function(){function t(t,e,r){function a(){}a()}angular.module("app").controller("ReportController",t),t.$inject=["$window","LookupService","DateTimeService"]}(),function(){function t(t,e){function r(r){e.open(t.ResourcesAPI+"Report/Reservations/"+r.baseId+"/"+r.startDateTime+"/"+r.durationHours)}return{GenerateReservationReport:r}}angular.module("app").factory("ReportService",t),t.$inject=["AuthenticationSettings","$window"]}(),function(){function t(t,e,r,a,o){function i(){r.FormatBases(function(t,e){return t?(o.TrackException(t.message,"GET CPA BASES (ReservationsReport)",{userName:p.currentUser.userName,errorObject:t}),void console.log(t)):(p.bases=e,void o.TrackEvent("Status: 200, Action: GET CPA BASES, handled: ReservationReport"))}),p.startDateTime=new Date}function n(){if(!u()||!p.startDateTime)return void(p.submit=!0);var r={baseId:u(),startDateTime:t.FormatDateYear(p.startDateTime),durationHours:24};e.GenerateReservationReport(r)}function s(){p.isOpen=!p.isOpen}function l(t,e,r){c(e.BaseId)}function c(t){p.baseId=t}function u(){return p.baseId}function m(){void 0===p.selected&&(p.baseId=void 0)}var p=this;p.currentUser=a.GetCurrentUserData("authenticationData"),p.formats=t.GetDateFormats(),p.format=p.formats[3],p.dateOptions=t.GetDateOptions(),p.altInputFormats=t.GetAltInputFormats(),p.baseId=void 0,p.startDateTime=void 0,p.isOpen=!1,p.ViewReport=n,p.BaseSelected=l,p.GetBaseId=u,p.Open=s,p.Reset=m,i()}angular.module("app").controller("ReservationsReportController",t),t.$inject=["DateTimeService","ReportService","LookupService","CurrentUserService","ApplicationInsightsService"]}();
//# sourceMappingURL=sourcemap/allminified.min.js.map
